<<<<<<< HEAD
"use strict";(()=>{var e={};e.id=8673,e.ids=[8673],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{e.exports=require("module")},9868:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>f,routeModule:()=>x,serverHooks:()=>h,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>l});var n=t(96559),a=t(48088),i=t(37719);t(99180);var o=t(32190),u=t(98765),p=t(93019),d=t(56078);async function l(e){try{let r=(0,d.jn)(e);if(!r)return o.NextResponse.json({message:"Tidak terautentikasi"},{status:401});let t=(0,d.nr)(r);if(!t)return o.NextResponse.json({message:"Token tidak valid atau kedaluwarsa"},{status:401});let s=(await (0,u.A)()).getRepository(p.v),n=await s.findOne({where:{id:t.id},select:["id","name","email","emailVerified","image","role","isVerified","fullName","phone","address","birthDate","bio","nis","nip","joinDate","kelasId","mataPelajaran","createdAt","updatedAt"]});if(!n)return o.NextResponse.json({message:"Pengguna tidak ditemukan"},{status:404});return o.NextResponse.json(n)}catch(e){return console.error("Fetch current user error:",e),o.NextResponse.json({message:"Terjadi kesalahan internal server."},{status:500})}}let x=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/auth/me/route",pathname:"/api/auth/me",filename:"route",bundlePath:"app/api/auth/me/route"},resolvedPagePath:"/home/user/studio/src/app/api/auth/me/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:m,serverHooks:h}=x;function f(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:m})}},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},21820:e=>{e.exports=require("os")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{e.exports=require("path")},42449:e=>{e.exports=require("pg")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},46193:e=>{e.exports=require("node:string_decoder")},51455:e=>{e.exports=require("node:fs/promises")},55511:e=>{e.exports=require("crypto")},56078:(e,r,t)=>{t.d(r,{HU:()=>l,ON:()=>c,jn:()=>h,l4:()=>m,nr:()=>x,sN:()=>q,vD:()=>f});var s=t(43205),n=t.n(s),a=t(25538),i=t(55511),o=t.n(i);let u=process.env.JWT_SECRET||"your-super-secret-jwt-key-please-change-this",p=process.env.JWT_EXPIRY||"1d",d="auth_token";function l(e){let r={id:e.id,email:e.email,role:e.role,isVerified:e.isVerified,kelasId:e.kelasId};return n().sign(r,u,{expiresIn:p})}function x(e){try{return n().verify(e,u)}catch(e){return console.error("Invalid token:",e),null}}function c(e,r){e.headers.append("Set-Cookie",a.serialize(d,r,{httpOnly:!0,secure:!0,maxAge:86400,path:"/",sameSite:"lax"}))}function m(e){let r={httpOnly:!0,secure:!0,expires:new Date(0),path:"/",sameSite:"lax"};e.headers.append("Set-Cookie",a.serialize(d,"",r))}function h(e){let r=e.cookies.get(d);return r?.value||null}function f(e){let r=h(e);return r?x(r):null}function q(e=32){return o().randomBytes(e).toString("hex")}},57075:e=>{e.exports=require("node:stream")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{e.exports=require("node:fs")},73136:e=>{e.exports=require("node:url")},76760:e=>{e.exports=require("node:path")},78474:e=>{e.exports=require("node:events")},79428:e=>{e.exports=require("buffer")},79551:e=>{e.exports=require("url")},79748:e=>{e.exports=require("fs/promises")},83997:e=>{e.exports=require("tty")},94735:e=>{e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,580,9013,8117,4958,1580],()=>t(9868));module.exports=s})();
=======
const CHUNK_PUBLIC_PATH = "server/app/api/auth/me/route.js";
const runtime = require("../../../../chunks/[turbopack]_runtime.js");
runtime.loadChunk("server/chunks/[root-of-the-server]__4452da90._.js");
runtime.loadChunk("server/chunks/node_modules_next_79defb52._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_query-builder_a0366d72._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_sqlserver_959cbaa5._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_cockroachdb_7297a1a6._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_mysql_ba3606c6._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_postgres_1af1b5c1._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_sap_d18f348c._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_driver_61d54b0f._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_persistence_86ce9dc1._.js");
runtime.loadChunk("server/chunks/node_modules_typeorm_fcac18dd._.js");
runtime.loadChunk("server/chunks/node_modules_a9bbac8b._.js");
runtime.getOrInstantiateRuntimeModule("[project]/.next-internal/server/app/api/auth/me/route/actions.js [app-rsc] (server actions loader, ecmascript)", CHUNK_PUBLIC_PATH);
runtime.getOrInstantiateRuntimeModule("[project]/node_modules/next/dist/esm/build/templates/app-route.js { INNER_APP_ROUTE => \"[project]/src/app/api/auth/me/route.ts [app-route] (ecmascript)\" } [app-route] (ecmascript)", CHUNK_PUBLIC_PATH);
module.exports = runtime.getOrInstantiateRuntimeModule("[project]/node_modules/next/dist/esm/build/templates/app-route.js { INNER_APP_ROUTE => \"[project]/src/app/api/auth/me/route.ts [app-route] (ecmascript)\" } [app-route] (ecmascript)", CHUNK_PUBLIC_PATH).exports;
>>>>>>> refs/remotes/origin/main
